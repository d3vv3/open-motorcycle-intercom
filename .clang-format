# OMI Code Style (based on LLVM with modifications for embedded)
BasedOnStyle: LLVM

# Indentation
IndentWidth: 4
TabWidth: 4
UseTab: Never
IndentCaseLabels: false

# Braces
BreakBeforeBraces: Custom
BraceWrapping:
  AfterFunction: true
  AfterControlStatement: false
  AfterEnum: false
  AfterStruct: false
  BeforeElse: false
  BeforeWhile: false

# Line width
ColumnLimit: 100

# Alignment
AlignConsecutiveMacros: true
AlignConsecutiveDeclarations: false
AlignTrailingComments: true
AlignOperands: true

# Pointer alignment
PointerAlignment: Right
DerivePointerAlignment: false

# Includes
IncludeBlocks: Regroup
IncludeCategories:
  - Regex: '^<.*\.h>'
    Priority: 1
  - Regex: '^"freertos/.*"'
    Priority: 2
  - Regex: '^"esp_.*"'
    Priority: 3
  - Regex: '^"driver/.*"'
    Priority: 4
  - Regex: '^".*"'
    Priority: 5

# Sorting
SortIncludes: true

# Spaces
SpaceAfterCStyleCast: false
SpaceBeforeParens: ControlStatements
SpacesInParentheses: false

# Short forms
AllowShortFunctionsOnASingleLine: Empty
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortBlocksOnASingleLine: false
